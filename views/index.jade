extends layout

block content
  div.container
    header
      h1 Embryo
      h2= session.user.displayName
    div(class="embryo" ng-app="embryo" ng-controller="myCtrl")
      //div.list
      //  div.contribution(ng-repeat='contribution in contributions')
      //    p {{contribution.text}}
      //    img(ng-src='{{contribution.base64}}')
      //img(ng-src='{{selectedItem ? selectedItem.link : null}}' width='{{item.image.width}}' height='{{item.image.height}}')
      div.embryo-post
        p
          span(class="title") Queries:
          input(type='text' ng-model='query')
          input(type='button' ng-click='search()' value='Search')
        p
          span(class='title') Results: {{ items.length }}
          ul(class='items')
            li(ng-repeat='item in items')
              img(ng-src='{{item.image.thumbnailLink}}' width='{{item.image.thumbnailWidth}}' height='{{item.image.thumbnailHeight}}' ng-click='select(item)')
        form(method="POST" action="./contributes/post")
          input(type="text" ng-model="text" value="テキスト")
          input(type="text" ng-model="url" value="画像URL")
          input(type="button" ng-click='submit()' value="送信")
      div(class='embryo-contribution {{hasSelected ? "shown" : "hidden"}}')
        div.embryo-contribution-details
          p {{selectedContribution.text}}
          //img(ng-src='{{selectedContribution.base64}}')
          //input(type='button' ng-click='closeLightbox()' value='close')
        div.embryo-contribution-image
      div.embryo-three
  script(type="text/javascript", src='bower_components/jquery/dist/jquery.js')
  script(type="text/javascript", src='bower_components/angular/angular.js')
  script(type="text/javascript", src='bower_components/threejs/build/three.js')
  script(type="text/javascript", src='bower_components/threejs/build/TrackballControls.js')
  script(type="text/javascript", src='javascripts/main.js')